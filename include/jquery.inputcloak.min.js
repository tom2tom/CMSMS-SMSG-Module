/*!
inputCloak
version 12/7/2015 + mods
by Philip Ermish
license: Apache 2 or GNU General Public License v.3 or later
*/
(function($){$.fn.inputCloak=function(b){return this.each(function(){var c=$(this);var e;var f={type:"all",symbol:"*",delay:0,revealOnFocus:true,cloakOnBlur:true,customCloak:undefined};c.settings=$.extend({},f,b);c._defaults=f;c._name="inputCloak";c.cloak=function(l){if(c.settings.customCloak){c.settings.customCloak(l,c,e);return true}var k=c.settings.symbol,h=l.length,j;switch(c.settings.type.toLowerCase()){case"ssn":if(h>4){var m=l.substr(0,h-4),i=m.length;if(i<3){j=Array(i+1).join(k)}else{j=Array(3+1).join(k)+"-";if(i>=5){j+=Array(2+1).join(k)+"-"}else{j+=Array(i-3+1).join(k)}}j+=l.substr(h-4,4)}else{j=l}break;case"credit":if(h>4){j=k+l.substr(h-4,4)}else{j=l}break;case"see4":if(h>4){j=Array(h-4+1).join(k)+l.substr(h-4,4)}else{j=l}break;case"see1":if(h>1){j=Array(h).join(k)+l.substr(h-1,1)}else{j=""}break;default:j=Array(h+1).join(k);break}e.val(j);c.val(l);return this};c.reveal=function(){e.val(c.val());return this};var g=function(){d(c);e.on("focus",function(h){c.reveal(h.currentTarget.value)});e.on("blur",function(h){setTimeout(function(){c.cloak(h.currentTarget.value)},c.settings.delay)});c.cloak(c.val())};var d=function(){var h="cloaked"+Math.floor((Math.random()*100000000)+1);e=c.clone();e.attr("id","#"+h);e.removeAttr("name");c.css("display","none");c.after(e)};g();return this})}})(jQuery);
